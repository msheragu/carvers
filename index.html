<!DOCTYPE HTML>
<!--
	Urban by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Digitally Fabricated</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<style type="text/css">
			p {
				font-size: 125%;
			}
		</style>
	</head>
	<body>

		<!-- Header -->
			<header id="header" class="alt">
				<div class="logo" style="font-size:200%;"><a href="index.html">Digitally <span>Fabricated</span></a></div>
				<a href="#menu">Menu</a>
			</header>

		<!-- Nav -->
			<nav id="menu">
				<ul class="links">
					<li><a href="index.html">Home</a></li>
					<li><a href="generic.html">Contact Us</a></li>
<!-- 					<li><a href="elements.html">Elements</a></li>
 -->				</ul>
			</nav>

		<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<header>
						<h1>Carving</h1>
						<p>Everyone has seen what carving looks like.<br />Let's dive a little deeper into how it's done.</p>
					</header>
					<a href="#main" class="button big scrolly">Learn More</a>
				</div>
			</section>

		<!-- Main -->
			<div id="main">

				<!-- Section -->
					<section class="wrapper style1">
						<div class="inner">
							<!-- 2 Columns -->
								<div class="flex flex-2">
									<div class="col col1">
										<div class="image round fit">
											<a href="generic.html" class="link"><img src="images/cnc-miller.jpg" alt="" /></a>
										</div>
									</div>
									<div class="col col2">
										<h3>Introduction</h3>
										<p>Carving is the process of using tools and techniques to shape an object differently. This is not limited to just creating patterns on objects, but also can be used to change the structure of an object. The object used is structurally strong enough to withstand changes to it. </p>
										<p>Now let’s talk about our research domain which is CNC carving. CNC carving (also known as Computer Numerical Control) as the name suggests is the usage of computers to perform carving.Nowadays carving is done on all kinds of materials ranging from metals like aluminium to pieces of wood or glass and this operation is done using spindles that rotate at high rpm values to cut through material or even laser which is a lot more precise in it’s cuts.</p>
									</div>
								</div>
						</div>
					</section>

					<!-- Section -->
					<section class="wrapper style4">
						<div class="inner">
								<div class="flex flex-2">
									<div class="col col2">
										<h3>Why this project?</h3>
										<p>The thought process behind working on this project was to learn how Gcode works; how we  can use Gcode to print 3d Objects or feed them to millers and cutters to carve something on a  piece of wood or glass or even metal. Since we were learning for the first time, it made sense to  start with something smaller and try and learn some fundamentals.</p>
										<p>Our first project was a simple G Code program to print a 3D square. The square gets its  depth as the printer moves along the z axis as and when it completes a square motion in x-y plane  and then repeating the process a couple of times. Simple enough and has enough components  to learn some basics.</p>
										<p>From this, we moved on to milling a circular pocket. A CNC milling job to create a circular  pocket by moving in concentric circles. This was our first introduction to working with millers. Here, on the right, the image shows us the different materials that we can carve on.</p>
									</div>
									<div class="col col1 first">
										<div style="height:15%;"></div>
										<div class="image fit">
											<a class="link"><img src="images/random-cnc-image.jpg" alt="" /></a>
										</div>
									</div>
								</div>
						</div>
					</section>

				<!-- Section -->
					<section class="wrapper style2">
						<div class="inner">
							<div class="flex flex-2">
								<div class="col col2">
									<h3>Carving letters</h3>
									<p>The thought process behind working on this project was to learn how Gcode works; how we  can use Gcode to print 3d Objects or feed them to millers and cutters to carve something on a  piece of wood or glass or even metal. It made sense to  start with something smaller and try and learn some fundamentals that could help learn both aspects of Fabrication.</p>
									<p>We looked at simpler models to help us learn. Our first project pick was A simple G Code program to print a 3D square. The square gets its  depth as the printer moves along z axis as and when it completes a square motion in x-y plane  and then repeating the process a couple of times. Simple enough and has enough components  to learn some basics. From this, we moved on to milling a circular pocket. A CNC milling job to create a circular  pocket by moving in concentric circles. This was our first introduction to working with millers.</p>
									<p>The last project we surveyed and the one we finally picked was ‘Drawing using Gcode’. This project involved making a drawing in InkScape (a software tool) or importing a svg image and  then converting it to G Code for drawing in 3D using Laser Plotter. There are a few reasons for  picking this as our final project. Having looked at some milling projects and learnt some basics,  we decided to go with something a little more complex than just milling concentric circles. We  had generated letters and drawings. The font of the letters was different as each of the letters  were drawn using blocks of different sizes. One other reason we liked this project was because  the Gcode itself was structured well and it made it easy to identify different parts of the letters. We made changes to the Gcode which in turn made changes to the letters. This is the author’s implementation. This is the final sentence that we generated and carved on wood using a CNC router.</p>
								</div>
								<div class="col col1 first">
									<div style="height:15%;"></div>
									<div class="image fit">
											<a href="generic.html" class="link"><img src="images/digi_fab.png" alt="" /></a>
									</div>
									<div style="height:15%;"></div>
									<div class="image fit">
										<a href="generic.html" class="link"><img src="images/digi_fab_wood.jpg" alt="" /></a>
									</div>
								</div>
							</div>
						</div>
					</section>

				<!-- Section -->
					<section class="wrapper style1">
						<div class="inner">
							<header class="align-center">
								<h2>Extending Carving Capabilities</h2>
								<p>Next, we wanted to try carving various shapes and not be limited to carving just letters. For this however, we had to provide users with some platform where they can create their custom shapes. The ideal steps for such a platform would be:</p>
							</header>
							<div class="flex flex-3">
								<div class="col align-center">
									<div class="image fit">
										<img src="images/user_input.png" alt="" />
									</div>
									<p>Input: Take input from the user.</p>
								</div>
								<div class="col align-center">
									<div class="image fit">
										<img src="images/gcode.png" alt="" />
									</div>
									<p>Generate: Generate a g-code corresponding to user shape.</p>
								</div>
								<div class="col align-center">
									<div class="image fit">
										<img src="images/execute.png" alt="" />
									</div>
									<p>Execute: Execute the job in a CNC miller to carve the shape.</p>
								</div>
							</div>
						</div>
					</section>

					<!-- Section -->
					<section class="wrapper style1">
						<div class="inner">
							<!-- 2 Columns -->
								<div class="flex flex-2">
									<div class="col col1">
										<div class="image fit">
											<a href="generic.html" class="link"><img src="images/input_handle.png" alt="" /></a>
										</div>
									</div>
									<div class="col col2">
										<h3>Handling Input</h3>
										<p>For taking in user Input, we should build a UI that first asks for the dimensions of the wood piece. That effectively would allow us to limit the drawing space to a confined area depending on the dimension entered. This would ensure any shapes being carved will not go outside of the drawing area and hence the CNC miller will operate or move within the safe limits and not pose any mishaps to either the user or the machine itself. Users can then create their desired shapes on the drawing area by dragging the mouse appropriately. And finally, have an option to initiate the carving process.</p>
									</div>
								</div>
						</div>
					</section>

					<section class="wrapper style4">
						<div class="inner">
								<div class="flex flex-2">
									<div class="col col2">
										<h3>Generating G-Code</h3>
										<p>For generating the G-code that exactly replicates the user shape, we first have to keep track of the coordinates of the points the shape is composed of. Updating the set of coordinates as the user adds/removes parts of it. But that is not enough. We have to handle the case when the user’s shape is disconnected and the user creates shapes by dragging and lifting the finger from the mousepad or mouse. In such cases, we need to detect that the user is not dragging the mouse anymore and hence the corresponding g-code should have appropriate gaps, otherwise, we will see unnecessary lines on the final carving where users didn’t draw. Once we have correct set of coordinates	and appropriate break points, we can generate the g-code depending on the underlying software we use for communicating with the CNC miller.</p>
									</div>
									<div class="col col1 first">
<!-- 										<div style="height:15%;"></div> -->
										<div class="image fit">
											<a class="link"><img src="images/gcode_gen.png" alt="" /></a>
										</div>
									</div>
								</div>
						</div>
					</section>

					<section class="wrapper style1">
						<div class="inner">
							<!-- 2 Columns -->
								<div class="flex flex-2">
									<div class="col col1">
										<div class="image fit">
											<a href="generic.html" class="link"><img src="images/easel_carve.png" alt="" /></a>
										</div>
									</div>
									<div class="col col2">
										<h3>Executing the job</h3>
										<p>Finally, we have to execute the job on the CNC carving machine. Once we have the G-code, we should be able to upload the program that has communicating capabilities with the machine and execute the job from there. But the tricky part is to ensure that our generated g-code matches the requirement of the underlying program responsible for communicating with the machine.</p>
									</div>
								</div>
						</div>
					</section>

					<section class="wrapper style2">
						<div class="inner">
							<header class="align-center">
								<h2>Benefits and Limitations</h2>
								<p style="color:white;">Both approaches of carving discussed above, allow users to enter custom input in form of either text or drawing, and the program takes care of generating the g code for the user. This allows them to carve letters or shapes without knowing the semantics of g code. In addition to this, the 2nd approach of carving shapes, also allows users to alter their shapes on the fly and resume the job, which gives users greater flexibility.</p>
								<p style="color:white;">However, there are certain limitations of both of these approaches.</p>
							</header>
							<div class="flex flex-2">
								<div class="col align-center">
									<p>For carving letters, our program only supports a fixed font. To extend the idea to different fonts, one has to implement all the methods corresponding to letters which would return g code to generate letters in that particular font.</p>
								</div>
								<div class="col align-center">
									<p>For shape carving, our software uses selenium automation library to interact with the Easel website. But this depends on the html tags used in the website. If the website changes it’s design in future, it would require us to refactor the code to incorporate the new tags used in the design, so that the communication between our software and easel website remains intact.</p>
								</div>
							</div>
						</div>
					</section>

					<section class="wrapper style1">
						<div class="inner">
							<div class="flex flex-2">
								<div class="col col2">
									<h2>Implementation</h2>
									<p>We first go through the implementation details of carving letters, then we will move onto how we expanded the ideas to shapes.</p>

									<h4>Letter Carving</h4>
									<p>The first step was to analyse the G Code generated by InkScape and understand what each of the blocks represented. This way we were able to learn the syntax. We first changed one single letter and viewed the same on NC Viewer. Having successfully changed one letter, we decided to further modify the  code. We realized that we only had a certain number of letters. So we decided to generate all the other letters. Once we generated all the letters, we knew that we could write anything  using G Code. But manually inputting letters and changing their coordinates was tedious. So we  decided to automate the same using Python. Since we already had all the letters, changing their  coordinates using python was simpler. At the end, we were able to generate any sentence  using G Code which could be fed into a miller or laser cutter.</p>
									<p>We created separate methods for each letter, which when called would return the code of that letter placed at a fixed start point. The fixed start point was chosen arbitrarily. Next, we take a string as input from the user. Finally, we iterate over the characters in the string, call the corresponding method for that letter and shift the coordinates in the g code appropriately taking letter width in consideration. The compiled g code for the entire string is then saved into a file, which can be exported to CNC miller softwares such as Candle by SainsMart to perform the carving.</p>

									<h4>Shape Carving</h4>
									<p>For shape carving we created an interface that lets the user draw their own shape and carve it. It also allows the user to pause and make changes to the shape. In this case, we first created a Java standalone UI, that lets the user enter the workpiece size and then draw their custom shape. For this standalone software we used the java’s swing APIs. Overriding the Mouse dragged event we store the xy coordinates of the mouse as it is dragged and inserted appropriate break points when the mouse button is lifted. In this way, the software is able to keep track of a running list of coordinates that the user’s shape consists of. When the carve button is clicked, it first generates the g code using the stored coordinates and then triggers a Easel job to carve the shape onto the wood piece, using the g code.</p>
									<p>As soon as the carve button is clicked the user is also able to see a pause button, that would allow the user to interrupt the current process and make changes to the shape and resume printing again. When the user hits the pause button, the software sends a signal to the Easel backend to stop the job and notes the position of the spindle, and how far the shape has been printed, i.e the no of lines of g code already processed and carved. When the resume button is pressed, the change is first detected and the new lines of g code are generated in place to carve the modified shape. The last stop point is selected as the start point, and the carving is resumed from that point.</p>
								</div>
								<div class="col col1 first">
									<div style="height:18%;"></div>
									<div class="image fit">
											<a href="generic.html" class="link"><img src="images/Carve letters flowchart.jpg" alt="" /></a>
									</div>
									<div style="height:8%;"></div>
									<div class="image fit">
										<a href="generic.html" class="link"><img src="images/carve shapes flowchart.jpg" alt="" /></a>
									</div>
								</div>
							</div>
						</div>
					</section>

					<section class="wrapper style2">
						<div class="inner">
							<header class="align-center">
								<h2>Conclusion</h2>
							</header>
							<div class="flex flex-1">
								<div class="col align-center">
									<p>We started with a simple program that generates g code to carve a string of letters. Then we extended the idea to carving any random shape drawn by the user. We also added a feature for the user to pause the execution of the job, make further changes in the shape on the fly and resume the job again. In conclusion, we can say, automating carving presents an interesting opportunity to create amazing artworks and at the same time poses challenges that need to be handled properly. With the two approaches that we discussed above, we showed one possible way to tackle such challenges, but a lot is left to be done, to make the system more robust and handle more edge cases.</p>
								</div>
							</div>
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer">
				<div class="copyright">
					<ul class="icons">
						<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
						<li><a href="#" class="icon fa-snapchat"><span class="label">Snapchat</span></a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
